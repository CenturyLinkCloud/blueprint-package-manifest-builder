
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Package Manifest Builder | CenturyLink Cloud</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="package_manifest_builder.css">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>


	<div style="margin-top: 2em;"></div>

    <div class="row"><!-- begin container row -->


	  <div class="col-md-offset-1 col-md-7"><!-- begin build col -->
		<!-- TODO - button drop down to deploy some standard configs rather than blank? -->

	    <div id="built_els" class="droppable">
         <!-- preamble -->
     	 <div class="builder_el panel panel-primary" id="builder_el_preamble">
     	   <div class="el_heading panel-heading"> Package Foundational Definition </div><!-- end el_heading -->
     
     	   <div class="el_body panel-body">
     		 <div class="el_details">
     		   <div class="form-group">
     		     <label>Package Name:</label>
     			 <input type="text" class="form-control" name="package_name">
				 <p class="help-block">
				   Package name.  This is searchable and displayed when choosing the package.  CenturyLink has defined a 
				   <a href='http://www.centurylinkcloud.com/knowledge-base/blueprints/creating-public-blueprint-packages/'>naming standard for public packages</a> 
				   which you may leverage.
				 </p>
			   </div>
     		   <div class="form-group">
     		     <label>Package Description:</label>
				 <textarea class="form-control" style="height: 5em;" name="package_description" placeholder='Enter package description'></textarea>
     		   </div>
		       <div class="form-group frm_prompt">
		         <label>Mode:</label>
			     <select name="package_mode" class="form-control" id="mode">
			       <option value="Command">Command (Windows)
			       <option value="PowerShell">PowerShell (Windows)
			       <option value="Ssh">SSH (Linux)
			     </select>
		       </div>
			   <a href="#" id="foundation_advanced_btn">Advanced</a>
     		   <div class="form-group advanced">
     		     <label>UUID:</label>
     			 <input type="text" class="form-control" name="package_uuid" id="uuid">
				 <p class="help-block">
				   Each package must have a globally unique 32 character GUID.  A new value has been generated for you.  If this is replacing 
				   an existing package place update with your current GUID.  Blueprints connect to Packages using this GUID so to prevent breaking 
				   for minior changes reuse the GUID.  Likewise to create a new incompatible package release choose a new GUID.
				 </p>
			   </div>
     		   <div class="form-group advanced">
     		     <label>Command:</label>
     			 <input type="text" class="form-control" value="install.ps1" id="command" name="package_command">
				 <p class="help-block">
				   Script command to be executed when running blueprint package.  
				   Any parameters you create will be automatically appended to the end of this command and made available to your script.
				 </p>
			   </div>
   		       <div class="form-group frm_reboot advanced">
		         <label>Reboot:</label>
			     <select name="package_reboot" class="form-control">
			       <option value="false" selected>No
			       <option value="true">Yes
			     </select>
				 <p class="help-block">
				   If yes will reboot the server after this package successfully executes.  Use of this is strongly recommended in
				   lieu of rebooting as part of your scripts for proper tracking of server state.
				 </p>
		       </div>
   		       <div class="form-group frm_persistent advanced">
		         <label>Persistent:</label>
			     <select name="package_persistent" class="form-control">
			       <option value="false" selected>No
			       <option value="true">Yes
			     </select>
				 <p class="help-block">
				   If no the package will be removed after successful execution.  To keep package binaries and configuration on the
				   server after execution set to Yes.  This is typically only enabled to support debugging.
				 </p>
		       </div>
     	     </div>
     	   </div>
  		 </div>
         <!-- end preamble -->

		</div>

		<div id="alerts"></div>

	    <div id="actions">
		  <button type="button" id="export_xml_btn" class="btn btn-default">Export package.manifest</button>
		  <button type="button" id="export_bash_btn" class="btn btn-default">Export Bash Template</button>
		  <button type="button" id="export_powershell_btn" class="btn btn-default">Export Powershell Template</button>

		</div>
	  </div><!-- end build col -->


	  <div class="col-md-4" id="chooser_container"><!-- begin chooser col -->
		<h5 class="text-muted">User Parameters</h5>
	    <div class="draggable well parameter" id="param_string">
		  <input type="text" placeholder="Free-form text string" disabled>
		</div>
	    <div class="draggable well parameter" id="param_numeric">
		  <input type="text" placeholder="Numeric string only 123456789" disabled>
		</div>
	    <div class="draggable well parameter" id="param_option">
		  <select disabled><option>Select one</option></select>
		</div>
	    <div class="draggable well parameter" id="param_select">
		  <input type="checkbox" disabled>
		  <input type="checkbox" disabled>
		  <span class="text-muted">Select multiple</span>
		</div>
	    <div class="draggable well parameter" id="param_password">
		  <input type="text" placeholder="Password *********" disabled></span>
		</div>

		<h5 class="text-muted">System Parameters</h5>
	    <div class="draggable well parameter" id="param_serverip">
		  <select disabled><option>Select Server, Return Server IP</option></select>
		</div>
	    <div class="draggable well parameter" id="param_server">
		  <select disabled><option>Select Server, Return Server Name</option></select>
		</div>
	    <div class="draggable well parameter" id="param_network">
		  <select disabled><option>Select Network</option></select>
		</div>
	    <div class="draggable well parameter" id="param_user">
		  <input type="text" placeholder="Username Executing the Package" disabled>
		</div>
	    <div class="draggable well parameter" id="param_name">
		  <input type="text" placeholder="Server Hostname" disabled>
		</div>
	    <div class="draggable well parameter" id="param_ip">
		  <input type="text" placeholder="Server IP" disabled>
		</div>
	    <div class="draggable well parameter" id="param_serverpassword">
		  <input type="text" placeholder="Server Password" disabled>
		</div>
	  </div><!-- end chooser col -->


    </div><!-- end container row-->


    <!-- builder el template -->
	<div class="builder_el panel panel-default inactive" id="builder_el_tpl">
	  <input type="hidden" name="type" value="">
	  <div class="el_heading panel-heading">
        <div class="el_btn_menu btn-group col-md-1">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#" class="delete_btn">Delete</a></li>
            <li><a href="#" class="clone_btn">Clone</a></li>
          </ul>
        </div>

	    <div class="el col-md-11">
	      <div class="el_visible">
			<span class="name_span col-md-2"></span>
		    <input type="text" class="name col-md-5" name="name" placeholder="Name">
		    <div class="col-md-5 example_field"></div>
		  </div>
	    </div>
	  <br style="clear:both;">
	  </div><!-- end el_heading -->

	  <div class="el_body panel-body">
		<div class="el_details col-md-5">
		  <!-- TODO - add field for display name to seperate from variable name -->
		  <div class="form-group frm_hint">
		    <label>Help:</label>
			<input type="text" class="form-control" value="" name="hint">
		  </div>
		  <div class="form-group frm_required">
		    <label>Required:</label>
			<select name="required" class="form-control">
			  <option value="true" selected>Yes
			  <option value="false">No
			</select>
		  </div>
		  <div class="form-group frm_prompt">
		    <label>Prompt:</label>
			<select name="prompt" class="form-control">
			  <option value="None">None
			  <option value="Build" selected>Build
			  <option value="Design">Design
			  <option value="Global">Global
			</select>
		  </div>
		  <div class="form-group frm_default">
		    <label>Default:</label>
			<input type="text" class="form-control" value="" name="default">
		  </div>
		</div>

	    <div class="el_help col-md-offset-1 col-md-5">
		  <div class="text-muted">
			<hr>
		    <b>Help</b> is a descriptive string shown to customers when entering this data.<br>
			<b>Required</b> sets whether parameter must be populated.<br>
			<b>Prompt</b> assigns when data is prompted (none - default value must be supplied, build - at deploy time,
			design - when adding package to a new blueprint design, global - at deploy time and parameter can be visible
			to all packages in a blueprint).<br>
			<b>Default</b> is the default value if user doesn't specify a value.
		  </div>
	    </div>
	  </div>
	</div>
    <!-- end builder el template -->

    <!-- options el template -->
	<div class="options_container" id="options_tpl">
	  <hr>
	  <div class="option_container row form-group">
	    <div class="col-md-5"><input type="text" class="form-control value" placeholder="Value"></div>
	    <div class="col-md-5"><input type="text" class="form-control lable" placeholder="Label"></div>
	    <button class="btn btn-xs btn-default remove_option_btn"><span class="glyphicon glyphicon-remove" title="Remove option"></button>
	  </div>
	  <button class="btn btn-xs btn-default add_option_btn"><span class="glyphicon glyphicon-add"> Add Option</button>
	</div>
    <!-- end options el template -->


    <!-- begin welcome modal -->
    <div class="modal" id="welcome_modal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Using the Blueprint Package Manifest Builder Tool</h4>
          </div>
          <div class="modal-body">
			<div class="alert alert-info" role="alert">
				<i class="glyphicon glyphicon-info-sign"></i>
				Help available from the
			    <a href="http://www.centurylinkcloud.com/knowledge-base/blueprints/blueprint-package-manifest-builder-wizard/">
				  Blueprint Package Manifest Builder Wizard KB
				</a>
			</div>
			<div class="row">
			  <p class="col-md-5">Quickly define package naming, execution mode, and unique ID</p>
			  <img class="col-md-7" style="max-wdith: 100%;" src="foundational_definition.gif">
			</div>
			<Br>
			<div class="row">
			  <p class="col-md-3">Drop-and-drop system and user configurable parameters.  Quickly populate with access to context-aware help</p>
			  <img class="col-md-9" style="max-wdith: 100%;" src="parameters.gif">
			</div>
          </div>
          <div class="modal-footer">
            <button type="button" data-dismiss="modal" class="btn btn-primary">OK, Get Started</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <!-- end welcome modal -->
    

    <!-- Latest compiled and minified JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="install_sh_tpl.js"></script>
    <script type="text/javascript" src="install_ps1_tpl.js"></script>
    <script type="text/javascript" src="package_manifest_builder.js"></script>
  </body>
</html>

